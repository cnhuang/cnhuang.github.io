<script>

function post(token) {
  let body = { grant_type: "authorization_code",
        client_id: MAILCHIMP_CLIENT_ID,
        client_secret: MAILCHIMP_CLIENT_SECRET,
        redirect_uri: 'https://cnhuang.github.io/mailchimp-token-callback.html',
        code: document.getElementById("code").value };
  console.log(body);
  fetch('https://login.mailchimp.com/oauth2/token', {
  method: 'POST', // or 'POST', 'PUT', 'DELETE'
  headers: {
    'Content-Type': 'application/json'
  },
     
  body: JSON.stringify(body) // Only for methods with body (POST, PUT)
})
.then(response => {
  if (!response.ok) {
    throw new Error('Network response was not ok');
  }
  return response.json(); // or response.text() for non-JSON responses
})
.then(data => {
  console.log('Data received:', data);
})
.catch(error => {
  console.error('There was a problem with the fetch operation:', error);
});

}
  
</script>

Code: <input id=code></input> <button onclick="post()">submit</button>
